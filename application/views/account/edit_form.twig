{% extends 'layouts/main.twig' %}

{% block content %}

<div class="col-xs-12 col-sm-7 col-md-7 col-md-offset-1 col-lg-offset-2">

  <div class="section-title clear">
    <h3>會員資料{{ methodTitle }}</h3>
    <span class="bar-dark"></span>
    <span class="bar-primary"></span>
  </div>

  <form id="dataForm" class="row contact-form no-gutter" action="{{ methodAction }}" method="post">

    <div class="col-xs-12 col-sm-12">
      <div class="input-field">
        <span class="input-icon"><i class="tf-profile-male"></i></span>
        <input type="text" class="form-control" name="account_name" id="account_name" value="{{ account_name }}"
          placeholder="Enter your account" {{ methodReadonly }} required>
      </div>
    </div>

    <div class="col-xs-12 col-sm-12">
      <div class="input-field">
        <span class="input-icon"><i class="tf-ion-android-person"></i></span>
        <input type="text" class="form-control" name="account_realname" id="account_realname"
          value="{{ account_realname }}" placeholder="Enter your name" required>
      </div>
    </div>

    <div class="col-xs-12 col-sm-12">
      <div class="input-field">
        <span class="input-icon"><i class="tf-ion-ios-locked"></i></span>
        <input type="password" class="form-control" name="account_pwd" id="account_pwd"
          placeholder="Enter Your password" autocomplete="off" {{ pwdRequired }}>
      </div>
    </div>

    <div class="col-xs-12 col-sm-12">
      <div class="input-field">
        <span class="input-icon"><i class="tf-ion-ios-locked"></i></span>
        <input type="password" class="form-control" id="account_pwd_check" placeholder="Check Your password"
          autocomplete="off" {{ pwdRequired }}>
      </div>
    </div>

    <div class="col-xs-12 col-sm-12">
      <div class="input-field email">
        <span class="input-icon"><i class="tf-envelope2"></i></span>
        <input type="email" class="form-control" name="account_email" id="account_email" value="{{ account_email }}"
          placeholder="Your email address" required>
      </div>
    </div>

    <div class="col-xs-12 col-sm-12">
      <div class="input-field message">
        <span class="input-icon"><i class="tf-pencil2"></i></span>
        <textarea name="account_message" id="account_message" class="form-control"
          placeholder="Write your message">{{ account_message }}</textarea>
      </div>
    </div>

    <div class="col-xs-12 col-sm-6">
      <div class="input-field">
        <span class="btn-border">
          <input type="hidden" name="{{ csrfName }}" value="{{ csrfHash }}">
          <button type="button" class="btn btn-primary btn-custom-border text-uppercase submit">Submit Data</button>
        </span>
      </div>
      <div class="msg-success">Your Message was sent successfully</div>
      <div class="msg-failed">Something went wrong, please try again later</div>
    </div>

  </form>

</div>

<script>

  $('.submit').click(function(){
    
    if ($('#account_pwd').val() != '') {

      if ($('#account_pwd').val() != $('#account_pwd_check').val()) {

        alert('輸入密碼與確認密碼不符合。');
        return false;
      }

    }

    $('#dataForm').submit();

  });

</script>

{% endblock %}